<section 
  x-data="{ inView: false }"
  x-init="
    const observer = new IntersectionObserver((entries) => {
      inView = entries[0].isIntersecting;
    }, { threshold: 0.3 });
    observer.observe($el);

    import('gsap').then(({ gsap }) => {
      setTimeout(() => {
        const tags = $el.querySelectorAll('.tag');
        let animations = [];

        // hover시 falling 시작
        $el.addEventListener('mouseenter', () => {
          if (animations.length > 0) return; // 이미 실행 중이면 중복 방지
          tags.forEach((tag, i) => {
            const anim = gsap.to(tag, {
              y: 20 + Math.random() * 15, // 살짝 아래로
              rotation: (Math.random() - 0.5) * 10,
              duration: 1.4,
              ease: 'power1.inOut',
              yoyo: true,
              repeat: -1,
              delay: i * 0.05,
            });
            animations.push(anim);
          });
        });

        // hover 해제 시 원래 자리로 복귀
        $el.addEventListener('mouseleave', () => {
          animations.forEach(a => a.kill());
          animations = [];
          gsap.to(tags, { y: 0, rotation: 0, duration: 0.5, ease: 'power2.out' });
        });
      }, 300); // Alpine 렌더 후 실행
    });
  "
  class="text-black py-4"
>
  <div class="max-w-6xl mx-auto flex gap-10 md:gap-16 items-center">

    <!-- 🔹 Right: Text & Tags -->
    <div 
      x-show="inView"
      x-transition:enter="transition ease-out duration-1000 delay-300"
      x-transition:enter-start="opacity-0 transform translate-y-10"
      x-transition:enter-end="opacity-100 transform translate-y-0"
      class="md:col-span-7 flex flex-col gap-6"
    >

      <!-- Tags -->
      <div class="flex flex-wrap gap-3 md:gap-4">
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium font-body">South Korea</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium font-body">INFP</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium font-body">B type</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium font-body">Generator</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium font-body">Adventurous</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium font-body">Introverted</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium font-body">Flexible</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium font-body">Independent</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium">Cultural explorer</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium">Everyday inspiration</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium">Music</span>
        <span class="tag px-4 py-2 outline outline-1 outline-black rounded-full text-sm font-medium">Film</span>
      </div>
      
    </div>
  </div>
</section>
